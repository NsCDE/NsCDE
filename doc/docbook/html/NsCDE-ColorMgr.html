<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>5.5. Color Style Manager</title><link rel="stylesheet" type="text/css" href="NsCDE.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Not so Common Desktop Environment (NsCDE) Manual"><link rel="up" href="NsCDE-GUI-Tools.html" title="5. GUI Tools"><link rel="prev" href="NsCDE-XscreenSaver.html" title="5.4. Screen Style Manager (Xscreensaver)"><link rel="next" href="NsCDE-ExecDialog.html" title="5.6. Exec Dialog"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.5. Color Style Manager</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="NsCDE-XscreenSaver.html">Prev</a> </td><th width="60%" align="center">5. GUI Tools</th><td width="20%" align="right"> <a accesskey="n" href="NsCDE-ExecDialog.html">Next</a></td></tr></table><hr></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="NsCDE-ColorMgr"></a>5.5. Color Style Manager</h3></div></div></div><p>
With Backdrop Style Manager, this is probably the most important theme tool in NsCDE. This tool
applies colors to the widgets, menus, applications and backdrops. As in CDE, it reads color
information from the palette files in
<code class="filename">$NSCDE_DATADIR/palettes</code> and
<code class="filename">$FVWM_USERDIR/palettes</code>. Palettes are the 16bpp
color definitions (8 of them). This colors and border bg/fg/sel colors
calculated from them are the base of the look of pretty much all of the things
on the screen. Colors can be applied in 4 or 8 colors mode. Most notable
palettes are <span class="emphasis"><em>Broica</em></span> in 8-colors mode and <span class="emphasis"><em>Solyaris</em></span>
(called <span class="emphasis"><em>Default</em></span> on SunOS) in 4 colors mode. Color mode can be selected
with the <a class="link" href="NsCDE-ColorMgr.html#NsCDE-NColorsDialog" title="5.5.1. Number Of Colors Dialog">Number Of Colors</a> dialog which opens when
the same named button in the main dialog of Color Style Manager is pressed.

</p><p>
Color Buttons and the Number of Colors selection determine the number of colors that make
up a palette. You will have four or eight colors in the Color dialog box. The different
color buttons in the palette control the colors used for different areas of the screen.
</p><div class="figure"><a name="fig_color_stylemgr"></a><p class="title"><b>Figure 30. Color Style Manager</b></p><div class="figure-contents"><div class="mediaobject"><img src="img/fig_color_stylemgr.png" alt="Color Style Manager"></div></div></div><br class="figure-break"><p>
If you have eight color buttons, they will be used as follows (buttons numbered from left to right, top to bottom):

</p><div class="orderedlist"><ol class="orderedlist" type="I"><li class="listitem"><p>Active window borders, corners and titlebars</p></li><li class="listitem"><p>Inactive window borders and non-application menus</p></li><li class="listitem"><p>
Workspace Manager (WSM) Switch for workspace 1 and 5
</p></li><li class="listitem"><p>Text, text field, list areas and text areas</p></li><li class="listitem"><p>
Main window background and Workspace 2 and 6 button background
</p></li><li class="listitem"><p>Dialog box background, menu bar, popup menu and background of workspace 3 and 7</p></li><li class="listitem"><p>Workspace 4 and 8 background</p></li><li class="listitem"><p>
Front Panel background when "Color 8 for Front Panel and Icons" is selected
in the "Number of Colors ..." subdialog.
</p></li></ol></div><p>
</p><p>
If you have four color buttons, they will be used as follows (buttons numbered from left to right):

</p><div class="orderedlist"><ol class="orderedlist" type="I"><li class="listitem"><p>
Active window borders
</p></li><li class="listitem"><p>
Window bodies:

</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Inactive window borders and non-application menus</p></li><li class="listitem"><p>Main window and dialog box backgrounds and menu bar</p></li><li class="listitem"><p>Front Panel background</p></li></ol></div><p>
</p></li><li class="listitem"><p>Workspace switches and backgrounds</p></li><li class="listitem"><p>Text, text field, list areas and text areas</p></li></ol></div><p>
</p><p>
Color Style Manager as most tools is written in FvwmScript with background
shell helper and color calculation and generator routines. Visually it tries
to be as much as possible similar to the original CDE, but since it has some
new features, there are some new buttons and commands introduced.
Tool has a list of the palettes (system + user), preview button which can
temporary apply some palette on the current workspace backdrop and FVWM based
applications (FrontPanel, other scripts ...)
</p><p>
As in Backdrop Style Manager there are <span class="guibutton">Add</span> and <span class="guibutton">Delete</span>
button actions. System palettes cannot be deleted, while local can be added to
<code class="filename">$FVWM_USERDIR/palettes</code> and applied immediately.
</p><p>
Importing a ready-made new custom Palette: you can import your own palette

</p><div class="orderedlist"><ol class="orderedlist" type="I"><li class="listitem"><p>Open the Color Style Manager.</p></li><li class="listitem"><p>
Choose <span class="guibutton">Add ...</span> in the Color dialog box.
</p></li><li class="listitem"><p>
Browse files and directories to the new Palette file. Palette file
must have <span class="emphasis"><em>.dp</em></span> extension and conform to the simple format
(8x16bpp hex colors).
</p></li><li class="listitem"><p>Select the new Palette file from the list of files</p></li><li class="listitem"><p>Click OK in the Color dialog box.</p></li></ol></div><p>
</p><p>
Custom Palettes from the <code class="filename">$FVWM_USERDIR/palettes</code> can also be
deleted. Just pick the name from the list and click on the <span class="guibutton">Delete ...</span>
button. You will be asked for confirmation, and then, if standard UNIX filesystem
user and group ownership and permissions are allowing that, palette file will be
permanently deleted.
</p><p>
Creating new palette by modifying an existing one makes a copy of the currently
selected palette with a default name "Custom". When applying this new palette,
Color Style Manager will ask you to rename this palette, which is a good idea,
because the next modification will rewrite "Custom" generic name again, and
previous work will be lost. You then create your custom palette by modifying
the copy, so the original palette is not changed.
</p><div class="figure"><a name="fig_color_modcolor_stylemgr"></a><p class="title"><b>Figure 31. Color Style Manager: Modify Color</b></p><div class="figure-contents"><div class="mediaobject"><img src="img/fig_color_modcolor_stylemgr.png" alt="Color Style Manager: Modify Color"></div></div></div><br class="figure-break"><p>
Button <span class="guibutton">Modify</span> will popup color editor if user selects one of the
8 (or 4) base colors. When selected, this color frames will get "Abc" written in them
with automatic foreground choice for that RGB/HSV combination. Frames can be unseleced
by simply clicking on them again. When one base color is selected <span class="guibutton">Modify</span>
will present editor with controls for Red, Green and Blue values, as well as Hue, Saturation
and Value. On the top left corner are preview squares with names "Old" and "New". When changing
color with RGB and/or HSV controls, this "New" square button will change it's colorset. Color can
also be picked from any screen element with <span class="guibutton">Grab Color</span> button-
If action is not <span class="guibutton">Cancel</span> but <span class="guibutton">OK</span>, selected color will
be modified and new palette with generic name "Custom" created immediately. When finishing theme
selection in Color Style Manager with modified colors, Color Style Manager will ask for a name
of the new palette. The suggested default is "Custom" but on the subsequent modification, this is
the palette which will be modified and past modifications will be effectively lost. For that
reason, it is probably a good idea to save modified palette as new palette with some other name.
In that way, it can be temporary changed for some other and turned back again later. This
color modification dialog actually serves as palette creator (based on previous palettes) and
editor.
</p><p>
There are 8 spaces with colors from the currently selected palette (4 spaces
in 4-color mode) and generated XPM file with all 40 colors displayed.
Button <span class="guibutton">Number of Colors</span> calls transient window where user can select 4 or 8
color mode. System default on modern desktop is 8.
</p><p>
Key Bindings:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="keysym">Ctrl+Return</span>: Perform a change. Like if <span class="guibutton">OK</span> was pressed.
</p></li><li class="listitem"><p>
<span class="keysym">Ctrl+Q</span>: Quits Color Style Manager.
</p></li><li class="listitem"><p>
<span class="keysym">P</span>: Like <span class="guibutton">Preview</span> was pressed. Previews currently selected
color scheme from the list
</p></li><li class="listitem"><p>
<span class="keysym">C</span>: Loads <a class="link" href="NsCDE-ColorMgr.html#NsCDE-NColorsDialog" title="5.5.1. Number Of Colors Dialog">Number of Colors dialog</a>
</p></li><li class="listitem"><p>
<span class="keysym">I</span>: Loads <a class="link" href="NsCDE-ColorMgr.html#NsCDE-ColorIntegrationDialog" title="5.5.2. Color Theme System Integration">Color Theme System Integration dialog</a>
</p></li><li class="listitem"><p>
<span class="keysym">M</span>: Loads Modify Color dialog as if <span class="guibutton">Modify</span> was pressed
</p></li><li class="listitem"><p>
<span class="keysym">Up/Down</span>: Goes one item on the color schemes list up or down.
</p></li><li class="listitem"><p>
<span class="keysym">Sun Help and F1</span>: Displays this help text.
</p></li></ul></div><p>
</p><p>
Notice: In the preview mode under FVWM3 non-global monitor layout, only the backdrop of the currently
focused monitor is previewed in the colors of the new palette.
</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="NsCDE-NColorsDialog"></a>5.5.1. Number Of Colors Dialog</h4></div></div></div><p>
A <a class="link" href="NsCDE-ColorMgr.html" title="5.5. Color Style Manager">Color Style Manager</a> part
</p><p>
Helper dialog to select 4, 8 or default color scheme in
<a class="link" href="NsCDE-ColorMgr.html" title="5.5. Color Style Manager">Color Style Manager</a>.
It changes number of colors while browsing, previewing or
choosing a color theme, as well as two additional options for
8 colors scheme.
</p><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
Use 4 Colors Scheme: Uses only the first four colors of the choosen palette.
With slightly modified palette "Crimson" this was probably default on all
versions of Sun Solaris.
</p></li><li class="listitem"><p>
Use 8 Colors Scheme: uses full palette with all 8 colors. This is NsCDE
default on all modern displays.
</p></li><li class="listitem"><p>
Default (4|8): Indicates default which can be changed or turned back.
</p></li><li class="listitem"><p>
Color 8 for Front Panel and Icons: in 8 colors scheme, this will make icon part
of the Front Panel and workspace icons background to use eighth color from the
choosen palette instead of fifth color. This scheme was known to have been
default on some HP-UX and AIX versions of CDE, and in NsCDE it is a user
option. This option does not have effect in 4 colors scheme, and hence cannot
be selected together with it.
</p></li><li class="listitem"><p>
Color 6 for Workspace Manager: in 8 colors scheme, this will make Workspace
Manager colored with color 6 which is usually used for menus, and tools
background. This scheme was default on some versions of CDE on some UNIX
systems, but in NsCDE it is a user option. This option does not have effect
in 4 colors scheme, and hence cannot be selected together with it.
</p></li></ul></div><p>

</p><div class="figure"><a name="fig_color_ncolors_stylemgr"></a><p class="title"><b>Figure 32. Color Style Manager: Number of Colors</b></p><div class="figure-contents"><div class="mediaobject"><img src="img/fig_color_ncolors_stylemgr.png" alt="Color Style Manager: Number of Colors"></div></div></div><br class="figure-break"><p>
Key Bindings:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="keysym">Ctrl+Return</span>: Selects OK.
</p></li><li class="listitem"><p>
<span class="keysym">Escape</span>: Quits Dialog.
</p></li><li class="listitem"><p>
<span class="keysym">Sun Help and F1</span>: Displays this help text.
</p></li></ul></div><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="NsCDE-ColorIntegrationDialog"></a>5.5.2. Color Theme System Integration</h4></div></div></div><p>
A <a class="link" href="NsCDE-ColorMgr.html" title="5.5. Color Style Manager">Color Style Manager</a> part
</p><p>
What is most important new feature in Color Style Manager are integration
options. This are:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
 Own currently used backdrop synchronization (default)
</p></li><li class="listitem"><p>
 X resources in <code class="filename">$FVWM_USERDIR/Xdefaults</code> (default)
</p></li><li class="listitem"><p>
 GTK2 (default)
</p></li><li class="listitem"><p>
 GTK3 (default)
</p></li><li class="listitem"><p>
 Qt4 (default)
</p></li><li class="listitem"><p>
 Qt5 (GTK2 engine deprecated)
</p></li><li class="listitem"><p>
 Qt5 Kvatnum engine
</p></li><li class="listitem"><p>
 Qt6 Kvatnum engine
</p></li><li class="listitem"><p>
 User's <code class="filename">$FVWM_USERDIR/libexec/colormgr.local</code> script if exists, called with
  the path of the applied palette and number of colors.
</p></li></ul></div><p>
The last integration is used to integrate what default widget integrations
cannot reach. For example Gkrellm skin or some terminal preferences.
Qt/Qt5 integration is easy, since this toolkits can use their <span class="emphasis"><em>GTK</em></span> engine to
integrate self with GTK theme.
</p><p>
Since NsCDE 2.3, Qt5 (but not Qt4) is using Kvantum based engine for integration with the
rest of NsCDE and other widgets. Qt6 is using Kvantum exclusively. Old GTK2 Qt5 engine
in Color Style Manager can be selected as an alternative to Kvantum engine if Kvantum engine
is not available on the system. Qt6 is different: it uses only Kvantum engine, so Qt6 Kvantum
engine is mandatory for newer systems using Qt6. Kvantum NsCDE theming has somewhat finer tuned
and polished look, however it has still some inconsistencies in QDialog based widgets when scrollbars
are used there in them.
</p><p>
GTK2 and GTK3 are heavy work part. Here, we are using work derived from one
CDE theme for XFCE desktop and GTK2 + GTK3, purified and adapted for NsCDE
(see <a class="xref" href="NsCDE-Credits.html" title="24. Credits">Section 24, &#8220;Credits&#8221;</a>).
This is written in python. If turned on, this will produce
<code class="filename">$HOME/.themes/NsCDE</code>
directory with the theme for GTK2 and GTK3, and will edit <code class="filename">$HOME/.gtkrc-2.0</code> and
<code class="filename">$HOME/.config/gtk-3.0/settings.ini</code> to put or change
<code class="varname">gtk-theme-name</code> value. If NsCDE palette with dark background 4 color is choosen,
Color Style Manager will put <code class="varname">gtk-application-prefer-dark-theme</code> into
<code class="filename">$HOME/.gtkrc-2.0</code> and <code class="filename">$HOME/.config/gtk-3.0/settings.ini</code>. If
palette with light color 4 (used for text areas and text fields usually) is choosen, that variable
will be removed from the both configuration files. When switching off from NsCDE to some other
environment, care must be taken manually to handle <code class="varname">gtk-application-prefer-dark-theme</code>
in configuration files if last palette in NsCDE was using dark background.
</p><p>
If <code class="varname">nscde_use_xsettingsd</code> is set to 1 in the <code class="filename">$FVWM_USERDIR/NsCDE.conf</code>
after applying new color theme, user's X Settings in <code class="filename">$FVWM_USERDIR/Xsettingsd.conf</code> will
be adjusted and xsettingsd(1) daemon restarted for settings in GTK and Qt applications to be applied immediately.
This option can be enabled by editing NsCDE.conf or during initial setup. NsCDE starts <span class="command"><strong>xsettingsd</strong></span>
daemon with "-c $FVWM_USERDIR/Xsettingsd.conf" parameter. This file must be present if it was not
installed by the initial setup procedure.
</p><p>
This Helper dialog serves to select graphical widgets which will be integrated with NsCDE. As said above,
NsCDE provides it's own X resources for Athena and Motif programs, theme engines for GTK2, GTK3, Qt4, Qt5
and Qt6, and also extension to various single programs with
<code class="filename">$[FVWM_USERDIR]/libexec/colormgr.local</code> like calculators, terminal emulators,
Firefox, Thunderbird etc. Default selection assumes average modern Linux or similar system with
GTK2, GTK3, Qt4 and Qt5 present. However, it is on user to decide here what of all this to run
by selecting or unselecting checkboxes of the particular integration point.
</p><div class="figure"><a name="fig_colormgr_integration"></a><p class="title"><b>Figure 33. Color Style Manager: Number of Colors</b></p><div class="figure-contents"><div class="mediaobject"><img src="img/fig_colormgr_integration.png" alt="Color Style Manager: Number of Colors"></div></div></div><br class="figure-break"><p>
If not opened by clicking on <span class="guibutton">Integration Options ...</span> during work with
<a class="link" href="NsCDE-ColorMgr.html" title="5.5. Color Style Manager">Color Style Manager</a>, this dialog will be activated
automatically when <span class="guibutton">OK</span> is selected Color Style Manager to remind user
of this important part of look integration options of NsCDE.
</p><p>
Key Bindings:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="keysym">Ctrl+Return</span>: Selects OK.
</p></li><li class="listitem"><p>
<span class="keysym">Escape</span>: Quits Dialog.
</p></li><li class="listitem"><p>
<span class="keysym">Sun Help and F1</span>: Displays this help text.
</p></li></ul></div><p>
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="NsCDE-XscreenSaver.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="NsCDE-GUI-Tools.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="NsCDE-ExecDialog.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5.4. Screen Style Manager (Xscreensaver) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 5.6. Exec Dialog</td></tr></table></div></body></html>
